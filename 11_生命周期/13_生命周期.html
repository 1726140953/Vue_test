<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>13_生命周期</title>
</head>
<body>
  <div>
    <button @click="destroyVue">destory vue</button>
    <p v-show="isShow">北京</p>
  
  </div>
<!--
vue对象的生命周期
1. 初始化显示
  * new vue()
  * created() : 在此启动异步任务(ajax请求, 定时器)
  * beforeCompiled()
  * compiled()
  * ready()
2. 销毁vue实例: vm.$destory()
  * beforeDestory(): 在此做一些收尾的工作: 如清理定时器
  * destoryed()
-->
<script type="text/javascript" src="../js/vue.js"></script>
<script type="text/javascript">
  new Vue({
      el : 'body',
      data : {
        isShow:true
      },
      methods : {
        destroyVue() {
          console.log('created()');
          this.$destroy()
        }
      },
//      6个状态
    //created() : 在此启动异步任务(ajax请求, 定时器)
    created() {
      //定时器
      var timer=setInterval(function () {
        console.log('create!')
        console.log(this);
      }.bind(this),1000)
     },
    beforeCompile(){
      console.log('beforeCompile()');
    },
    compiled(){
      console.log('compiled()');
    },
    ready(){
      console.log('ready()');
    },
    // beforeDestory(): 在此做一些收尾的工作: 如清理定时器
    beforeDestory(){
      vm.$destory();
      clearInterval(timer);
      console.log('beforeDestory()');

    },
    destoryed(){
      console.log('destoryed()');

    },
    methods: {
      destoryVue () {
        vue.$destroy();
      }
    }
  });
</script>
</body>
</html>